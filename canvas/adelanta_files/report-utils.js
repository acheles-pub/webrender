var ReportUtils={anonymousUserId:"anonymous",screenPropertyPrefix:"#",reportShareKeyParam:"report.sharekey",accessDeniedErrorKey:"error.access.denied",relationCountMaxValue:100,DataSource:{"egrul":{id:"egrul"},"egrul_individual_founder":{id:"egrul_individual_founder"},"egrul_individual_executive":{id:"egrul_individual_executive"}},NoEgrulOrderSubtypes:["placeholder","foreign"],getServerErrorMessage:function(a){if(_.isString(a)&&a.indexOf("error.")==0){return _i18n.Messages[a]}return _i18n.Messages["error.system"]},getApplUrl:function(a){var b=document.location;return b.protocol+"//"+b.host+(a?a.replace(/\/$/,""):"")},getPageBaseUrl:function(){var a=document.location;return a.protocol+"//"+a.host+a.pathname},openUrl:function(a){document.location.replace(a)},openNewReport:function(c){var b=document.location.pathname;var a=_.isEmpty(c)?"":("?"+$.param(c));window.open(b+a,"_blank")},buildPageTitle:function(b){var a=_i18n.Messages.report["page.title.sep"];return b.join(a)+a+_i18n.Messages.report["page.title"]},loadTemplates:function(a){var b="";$.ajax({url:a,async:false,success:function(c){b=c},error:function(c,e,d){throw"Templates load error: "+d}});return b},bringToFront:function(b,c,a){var e=parseInt(b.css("z-index"));var d=$("."+c);if(e<a+d.length){d.each(function(g,h){var f=$(h);var i=parseInt(f.css("z-index"));if(i>e){f.css("z-index",i-1)}});b.css("z-index",a+d.length)}},buildReportShareUrl:function(a){return(ReportUtils.getPageBaseUrl()+"?"+ReportUtils.reportShareKeyParam+"="+a)},isBlankValueText:function(a){return(a===_i18n.Messages.blankValueText)},getRelationCountText:function(d,c,a){var b=d.getRelationCount(c,a,ReportUtils.relationCountMaxValue);if(b==0){return _i18n.Messages.blankValueText}if(b>ReportUtils.relationCountMaxValue){return _i18n.Messages.relationCountMaxValue+" "+ReportUtils.relationCountMaxValue}return b},isNoEgrulOrder:function(a){return _.contains(ReportUtils.NoEgrulOrderSubtypes,a.get("subtype"))},formatContent:function(a){return _.escape(a).replace(/\r?\n/gm,"<br>")}};